# Redis配置文件

# 绑定地址（允许所有IP访问）
bind 0.0.0.0

# 端口设置
port 6379

# 保护模式（启用密码认证）
protected-mode yes

# 密码认证（使用环境变量传递）
requirepass ${REDIS_PASSWORD}

# 最大内存限制
maxmemory 256mb

# 内存淘汰策略
maxmemory-policy allkeys-lru

# 持久化配置（RDB方式）
save 900 1
save 300 10
save 60 10000

# RDB文件名称
dbfilename dump.rdb

# RDB文件保存路径
dir /data

# AOF持久化（可选启用）
appendonly no

# 日志级别
loglevel notice

# 日志文件
logfile ""

# 客户端超时时间（秒）
timeout 0

# 数据库数量
databases 16

# 线程数（Redis 6+支持多线程）
io-threads 4

# 线程后台任务数
ios-threads-do-reads yes