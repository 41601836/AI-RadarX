# AI-RadarX + AI-THink 融合系统设计方案

> 版本: v1.0 | 设计时间: 2026-01-29
> 项目名称: AI-RadarX Pro (融合版)

---

## 一、系统融合架构

### 1.1 整体架构图

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              用户层 (Browser)                                │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                    AI-RadarX Pro 前端 (Next.js 14)                   │   │
│  │  ┌──────────┬──────────┬──────────┬──────────┬──────────┬────────┐  │   │
│  │  │ 系统看板 │ 行情中心 │ AI分析  │ 投资组合 │ 策略回测 │ 设置  │  │   │
│  │  └──────────┴──────────┴──────────┴──────────┴──────────┴────────┘  │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                    │                                        │
│                              Port: 3000                                     │
└────────────────────────────────────┼────────────────────────────────────────┘
                                     │
                    ┌────────────────┴────────────────┐
                    │        API Gateway Layer        │
                    │      (Next.js API Routes)       │
                    └────────────────┬────────────────┘
                                     │
        ┌────────────────────────────┼────────────────────────────┐
        │                            │                            │
        ▼                            ▼                            ▼
┌───────────────────┐    ┌───────────────────┐    ┌───────────────────┐
│    数据服务层      │    │    分析引擎层      │    │    存储服务层      │
│  (AI-RadarX BE)   │    │   (AI-THink Core)  │    │  (MongoDB/Redis)  │
│                   │    │                    │    │                   │
│  ├─ 实时行情      │    │  ├─ 多智能体分析   │    │  ├─ 用户数据      │
│  ├─ 基础数据      │    │  ├─ LLM推理       │    │  ├─ 分析历史      │
│  └─ AkShare代理   │    │  ├─ 策略回测      │    │  ├─ 持仓记录      │
│                   │    │  └─ 风险评估      │    │  └─ 缓存数据      │
│   Port: 8080      │    │   Port: 8000      │    │   Port: 27017     │
└───────────────────┘    └───────────────────┘    └───────────────────┘
        │                            │                            │
        └────────────────────────────┼────────────────────────────┘
                                     │
                    ┌────────────────┴────────────────┐
                    │         外部数据源               │
                    │  Tushare | AkShare | 新闻API    │
                    └─────────────────────────────────┘
```

### 1.2 服务端口规划

| 服务 | 端口 | 说明 |
|------|------|------|
| AI-RadarX 前端 | 3000 | Next.js 开发服务器 |
| AI-RadarX 后端 | 8080 | 数据服务 (FastAPI) |
| AI-THink 引擎 | 8000 | 分析引擎 (FastAPI) |
| MongoDB | 27017 | 数据存储 |
| Redis | 6379 | 缓存服务 |

---

## 二、UI 设计规范

### 2.1 设计风格

| 属性 | 规范 |
|------|------|
| **风格主题** | 深色科技风 (Dark Cyberpunk) |
| **主色调** | 深黑 (#0a0a0f) + 翠绿 (#22c55e) |
| **辅助色** | 霓虹蓝 (#3b82f6) / 警告红 (#ef4444) / 金色 (#eab308) |
| **字体** | 等宽: JetBrains Mono / 无衬线: Inter |
| **圆角** | 卡片 12px / 按钮 8px / 输入框 6px |
| **阴影** | 发光效果 (box-shadow with color) |

### 2.2 色彩系统

```css
:root {
  /* 背景层级 */
  --bg-primary: #0a0a0f;      /* 主背景 */
  --bg-secondary: #111118;    /* 卡片背景 */
  --bg-tertiary: #1a1a24;     /* 悬浮/激活态 */
  
  /* 文字层级 */
  --text-primary: #ffffff;    /* 主文字 */
  --text-secondary: #a1a1aa;  /* 次要文字 */
  --text-tertiary: #52525b;   /* 辅助文字 */
  
  /* 功能色 */
  --color-success: #22c55e;   /* 上涨/成功 */
  --color-danger: #ef4444;    /* 下跌/错误 */
  --color-warning: #eab308;   /* 警告 */
  --color-info: #3b82f6;      /* 信息/链接 */
  --color-accent: #8b5cf6;    /* 强调/AI功能 */
  
  /* 边框 */
  --border-default: #27272a;
  --border-hover: #3f3f46;
  --border-active: #22c55e;
}
```

### 2.3 组件设计规范

#### 卡片组件
```
┌─────────────────────────────────────┐
│  ┌─ 标题栏 ────────────────────┐   │
│  │ 📊 模块标题      [操作按钮]  │   │
│  └────────────────────────────┘   │
│                                    │
│  ┌─ 内容区 ────────────────────┐   │
│  │                              │   │
│  │   (数据/图表/列表)           │   │
│  │                              │   │
│  └────────────────────────────┘   │
│                                    │
│  ┌─ 底部栏 (可选) ─────────────┐   │
│  │ 更新时间: 10:30:45  [刷新]   │   │
│  └────────────────────────────┘   │
└─────────────────────────────────────┘

样式:
- 背景: var(--bg-secondary)
- 边框: 1px solid var(--border-default)
- 圆角: 12px
- 内边距: 20px
- 悬浮发光: box-shadow: 0 0 20px rgba(34, 197, 94, 0.1)
```

#### 数据表格
```
┌──────┬──────────┬─────────┬─────────┬─────────┐
│ 代码  │    名称   │   现价   │  涨跌幅  │  成交额  │
├──────┼──────────┼─────────┼─────────┼─────────┤
│600519│ 贵州茅台  │ 1850.00 │ +2.35%  │ 58.3亿  │  ← 绿色
│300750│ 宁德时代  │  245.60 │ -1.28%  │ 42.1亿  │  ← 红色
│000001│ 平安银行  │   15.82 │ +0.45%  │ 12.8亿  │  ← 绿色
└──────┴──────────┴─────────┴─────────┴─────────┘

样式:
- 表头: var(--bg-tertiary) + 加粗
- 斑马纹: 奇数行 var(--bg-secondary)
- 悬浮行: var(--bg-tertiary) + 左边框绿色
- 上涨: var(--color-success)
- 下跌: var(--color-danger)
```

---

## 三、页面布局设计

### 3.1 全局布局结构

```
┌──────────────────────────────────────────────────────────────────────┐
│ ┌──────────────────────────────────────────────────────────────────┐ │
│ │                        顶部导航栏 (64px)                          │ │
│ │  [Logo]  [系统看板] [行情中心] [AI分析] [投资组合] [策略]  [用户] │ │
│ └──────────────────────────────────────────────────────────────────┘ │
│ ┌────────────┬─────────────────────────────────────────────────────┐ │
│ │            │                                                     │ │
│ │            │                     主内容区                        │ │
│ │   侧边栏    │                                                     │ │
│ │   (可选)   │                    (页面内容)                        │ │
│ │   240px    │                                                     │ │
│ │            │                                                     │ │
│ │            │                                                     │ │
│ │            │                                                     │ │
│ └────────────┴─────────────────────────────────────────────────────┘ │
│ ┌──────────────────────────────────────────────────────────────────┐ │
│ │                        底部状态栏 (32px)                          │ │
│ │  [系统状态: ● 正常]  [后端: ● 在线]  [数据延迟: 50ms]  [v3.2.0]  │ │
│ └──────────────────────────────────────────────────────────────────┘ │
└──────────────────────────────────────────────────────────────────────┘
```

### 3.2 页面详细设计

---

#### 页面1: 系统看板 (Dashboard) - `/`

**目标**: 一屏展示系统核心状态与今日市场概况

```
┌──────────────────────────────────────────────────────────────────────┐
│                           系统看板                                    │
├──────────────────────────────────────────────────────────────────────┤
│                                                                      │
│  ┌─ 系统状态 ─────────────────────────────────────────────────────┐  │
│  │  [前端●] [数据服务●] [AI引擎●] [数据库●] [缓存●]               │  │
│  └────────────────────────────────────────────────────────────────┘  │
│                                                                      │
│  ┌─ 大盘指数 ─────────────────────────────────────────────────────┐  │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐          │  │
│  │  │  上证指数     │  │  深证成指     │  │  创业板指     │          │  │
│  │  │  3285.16     │  │  12456.78    │  │  2345.67     │          │  │
│  │  │  ▲ +0.38%    │  │  ▼ -0.19%    │  │  ▲ +1.02%    │          │  │
│  │  │  [迷你K线图]  │  │  [迷你K线图]  │  │  [迷你K线图]  │          │  │
│  │  └──────────────┘  └──────────────┘  └──────────────┘          │  │
│  └────────────────────────────────────────────────────────────────┘  │
│                                                                      │
│  ┌─ 今日AI精选 ─────────────────────┐  ┌─ 持仓概览 ──────────────┐  │
│  │                                  │  │                          │  │
│  │  🤖 AI智能选股 (3只)             │  │  总资产: ¥ 1,234,567.89  │  │
│  │                                  │  │  今日盈亏: +¥ 12,345.67  │  │
│  │  ┌────────────────────────────┐  │  │  收益率: +5.23%          │  │
│  │  │ 600519 贵州茅台            │  │  │                          │  │
│  │  │ AI评分: 85 | 推荐: 买入    │  │  │  [饼图: 持仓分布]        │  │
│  │  │ 理由: 筹码集中,主力增仓    │  │  │                          │  │
│  │  └────────────────────────────┘  │  │                          │  │
│  │  ┌────────────────────────────┐  │  │                          │  │
│  │  │ 300750 宁德时代            │  │  │                          │  │
│  │  │ AI评分: 78 | 推荐: 持有    │  │  │                          │  │
│  │  └────────────────────────────┘  │  │                          │  │
│  │                                  │  │                          │  │
│  │  [查看更多AI分析 →]              │  │  [进入投资组合 →]         │  │
│  └──────────────────────────────────┘  └──────────────────────────┘  │
│                                                                      │
│  ┌─ 市场热点 ─────────────────────────────────────────────────────┐  │
│  │  [AI芯片] [新能源] [医药] [消费] [金融] [房地产]               │  │
│  │  涨幅榜: 600123 +9.98% | 跌幅榜: 000456 -8.76%                 │  │
│  └────────────────────────────────────────────────────────────────┘  │
│                                                                      │
└──────────────────────────────────────────────────────────────────────┘
```

---

#### 页面2: 行情中心 (Market) - `/market`

**目标**: 提供全面的市场行情数据和可视化

```
┌──────────────────────────────────────────────────────────────────────┐
│                           行情中心                                    │
├──────────────────────────────────────────────────────────────────────┤
│                                                                      │
│  ┌─ 搜索与筛选 ───────────────────────────────────────────────────┐  │
│  │  🔍 [搜索股票代码/名称...                    ]  [搜索]          │  │
│  │  筛选: [全部▼] [主板] [创业板] [科创板] | 排序: [成交额▼]       │  │
│  └────────────────────────────────────────────────────────────────┘  │
│                                                                      │
│  ┌─ 实时行情列表 ─────────────────────────────────────────────────┐  │
│  │                                                                  │  │
│  │  ┌──────┬──────────┬─────────┬─────────┬─────────┬──────────┐  │  │
│  │  │ 代码  │    名称   │   现价   │  涨跌幅  │  成交额  │  操作   │  │  │
│  │  ├──────┼──────────┼─────────┼─────────┼─────────┼──────────┤  │  │
│  │  │600519│ 贵州茅台  │ 1850.00 │ ▲+2.35% │  58.3亿 │ [详情][+]│  │  │
│  │  │300750│ 宁德时代  │  245.60 │ ▼-1.28% │  42.1亿 │ [详情][+]│  │  │
│  │  │000001│ 平安银行  │   15.82 │ ▲+0.45% │  12.8亿 │ [详情][+]│  │  │
│  │  │601318│ 中国平安  │   45.20 │ ▲+0.32% │  10.5亿 │ [详情][+]│  │  │
│  │  │000858│ 五粮液   │  178.50 │ ▼-0.56% │   9.2亿 │ [详情][+]│  │  │
│  │  │...   │ ...      │ ...     │ ...     │  ...    │ ...      │  │  │
│  │  └──────┴──────────┴─────────┴─────────┴─────────┴──────────┘  │  │
│  │                                                                  │  │
│  │  [1] [2] [3] [4] [5] ... [20]  共 500 条                        │  │
│  └────────────────────────────────────────────────────────────────┘  │
│                                                                      │
│  ┌─ 板块热力图 ───────────────────────────────────────────────────┐  │
│  │  [银行+1.2%] [证券+0.8%] [保险-0.3%] [新能源+2.5%] [医药-1.1%]  │  │
│  │  (热力图可视化)                                                  │  │
│  └────────────────────────────────────────────────────────────────┘  │
│                                                                      │
└──────────────────────────────────────────────────────────────────────┘
```

---

#### 页面3: 个股详情 (Stock Detail) - `/market/stock/[code]`

**目标**: 展示单只股票的完整分析信息

```
┌──────────────────────────────────────────────────────────────────────┐
│  ← 返回行情中心                                                       │
├──────────────────────────────────────────────────────────────────────┤
│                                                                      │
│  ┌─ 股票信息头部 ─────────────────────────────────────────────────┐  │
│  │  600519 贵州茅台                                   [+ 加自选]  │  │
│  │  ¥ 1850.00   ▲ +42.50 (+2.35%)                                │  │
│  │  最高: 1862.00  最低: 1835.00  成交额: 58.3亿  换手率: 0.45%   │  │
│  └────────────────────────────────────────────────────────────────┘  │
│                                                                      │
│  ┌─ Tab导航 ──────────────────────────────────────────────────────┐  │
│  │  [K线图] [分时图] [筹码分布] [AI分析] [基本面] [新闻舆情]      │  │
│  └────────────────────────────────────────────────────────────────┘  │
│                                                                      │
│  ┌─ K线图区域 ────────────────────────────────────────────────────┐  │
│  │                                                                  │  │
│  │  时间周期: [1分] [5分] [15分] [30分] [日K] [周K] [月K]          │  │
│  │  技术指标: [MA] [MACD] [KDJ] [RSI] [BOLL] [VOL]                 │  │
│  │                                                                  │  │
│  │  ┌──────────────────────────────────────────────────────────┐  │  │
│  │  │                                                          │  │  │
│  │  │                    [K线图表]                             │  │  │
│  │  │                    (ECharts/TradingView)                 │  │  │
│  │  │                                                          │  │  │
│  │  │                    高度: 400px                           │  │  │
│  │  │                                                          │  │  │
│  │  └──────────────────────────────────────────────────────────┘  │  │
│  │                                                                  │  │
│  └────────────────────────────────────────────────────────────────┘  │
│                                                                      │
│  ┌─ AI智能分析 ───────────────────┐  ┌─ 快速操作 ────────────────┐  │
│  │  🤖 AI综合评分: 85/100         │  │                          │  │
│  │                                │  │  [模拟买入] [模拟卖出]   │  │
│  │  ├─ 技术面: 82                 │  │                          │  │
│  │  ├─ 基本面: 88                 │  │  数量: [     ] 股        │  │
│  │  ├─ 资金面: 85                 │  │  金额: ¥ 0.00            │  │
│  │  └─ 情绪面: 83                 │  │                          │  │
│  │                                │  │                          │  │
│  │  建议: 买入                    │  │                          │  │
│  │  理由: 筹码高度集中,主力控盘... │  │                          │  │
│  │                                │  │                          │  │
│  │  [查看完整AI分析报告 →]        │  │                          │  │
│  └────────────────────────────────┘  └──────────────────────────┘  │
│                                                                      │
└──────────────────────────────────────────────────────────────────────┘
```

---

#### 页面4: AI智能分析 (Analysis) - `/analysis`

**目标**: AI驱动的股票分析与选股

```
┌──────────────────────────────────────────────────────────────────────┐
│                          AI智能分析                                   │
├──────────────────────────────────────────────────────────────────────┤
│                                                                      │
│  ┌─ 分析模式选择 ─────────────────────────────────────────────────┐  │
│  │  [🎯 AI选股] [📊 技术分析] [📈 基本面分析] [📰 舆情分析]       │  │
│  └────────────────────────────────────────────────────────────────┘  │
│                                                                      │
│  ┌─ AI选股配置 ───────────────────────────────────────────────────┐  │
│  │                                                                  │  │
│  │  选股策略:                                                       │  │
│  │  ┌────────────────┐ ┌────────────────┐ ┌────────────────┐       │  │
│  │  │ 📈 趋势追踪    │ │ 💎 价值投资    │ │ ⚡ 动量策略    │       │  │
│  │  │ 追随主升浪     │ │ 低估值蓝筹    │ │ 强势股突破    │       │  │
│  │  │ [选中 ✓]       │ │ [  ]          │ │ [  ]          │       │  │
│  │  └────────────────┘ └────────────────┘ └────────────────┘       │  │
│  │                                                                  │  │
│  │  参数配置:                                                       │  │
│  │  市场范围: [全市场▼]  市值范围: [100亿以上▼]  PE范围: [0-50▼]   │  │
│  │                                                                  │  │
│  │  ┌────────────────────────────────────────────────────────────┐ │  │
│  │  │                    [🚀 开始AI选股]                         │ │  │
│  │  └────────────────────────────────────────────────────────────┘ │  │
│  └────────────────────────────────────────────────────────────────┘  │
│                                                                      │
│  ┌─ 选股结果 (AI-THink 多智能体分析) ─────────────────────────────┐  │
│  │                                                                  │  │
│  │  🤖 分析引擎: AI-THink v1.0 | 使用模型: GPT-4 | 用时: 12.5s    │  │
│  │                                                                  │  │
│  │  ┌────────────────────────────────────────────────────────────┐ │  │
│  │  │ #1  600519 贵州茅台                          AI评分: 92   │ │  │
│  │  │     ─────────────────────────────────────────────────────  │ │  │
│  │  │     💡 推荐理由:                                           │ │  │
│  │  │     • 市场分析师: 白酒板块持续走强,龙头效应明显            │ │  │
│  │  │     • 技术分析师: MACD金叉,KDJ超卖反弹,突破前高            │ │  │
│  │  │     • 基本面分析师: ROE 30%+,毛利率稳定,现金流充沛         │ │  │
│  │  │     • 风险分析师: 估值偏高但可接受,建议分批建仓            │ │  │
│  │  │                                                            │ │  │
│  │  │     ⚠️ 风险提示: PE 45x 高于行业均值                       │ │  │
│  │  │     📍 建议操作: 买入 | 目标价: ¥2100 | 止损价: ¥1750      │ │  │
│  │  │                                                            │ │  │
│  │  │     [查看详情] [加入组合] [生成报告]                        │ │  │
│  │  └────────────────────────────────────────────────────────────┘ │  │
│  │                                                                  │  │
│  │  ┌────────────────────────────────────────────────────────────┐ │  │
│  │  │ #2  300750 宁德时代                          AI评分: 87   │ │  │
│  │  │     ...                                                    │ │  │
│  │  └────────────────────────────────────────────────────────────┘ │  │
│  │                                                                  │  │
│  └────────────────────────────────────────────────────────────────┘  │
│                                                                      │
└──────────────────────────────────────────────────────────────────────┘
```

---

#### 页面5: 投资组合 (Portfolio) - `/portfolio`

**目标**: 管理用户持仓与跟踪投资绩效

```
┌──────────────────────────────────────────────────────────────────────┐
│                          投资组合                                     │
├──────────────────────────────────────────────────────────────────────┤
│                                                                      │
│  ┌─ 资产概览 ─────────────────────────────────────────────────────┐  │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐          │  │
│  │  │  总资产       │  │  今日盈亏    │  │  总收益率     │          │  │
│  │  │ ¥1,234,567   │  │ +¥12,345    │  │ +15.23%      │          │  │
│  │  │              │  │  ▲ +1.01%   │  │              │          │  │
│  │  └──────────────┘  └──────────────┘  └──────────────┘          │  │
│  │                                                                  │  │
│  │  ┌─ 资产分布饼图 ──────────┐  ┌─ 收益曲线 ────────────────────┐ │  │
│  │  │                        │  │                                │ │  │
│  │  │   [饼图]               │  │   [折线图: 30天收益曲线]       │ │  │
│  │  │   贵州茅台 45%         │  │                                │ │  │
│  │  │   宁德时代 30%         │  │                                │ │  │
│  │  │   其他 25%             │  │                                │ │  │
│  │  │                        │  │                                │ │  │
│  │  └────────────────────────┘  └────────────────────────────────┘ │  │
│  └────────────────────────────────────────────────────────────────┘  │
│                                                                      │
│  ┌─ 持仓明细 ─────────────────────────────────────────────────────┐  │
│  │                                                                  │  │
│  │  ┌──────┬────────┬───────┬───────┬───────┬────────┬──────────┐ │  │
│  │  │ 代码  │  名称   │ 持仓量 │  成本  │  现价  │  盈亏   │  操作   │ │  │
│  │  ├──────┼────────┼───────┼───────┼───────┼────────┼──────────┤ │  │
│  │  │600519│贵州茅台│  300  │1800.00│1850.00│+15,000 │[调仓][清仓]│ │  │
│  │  │300750│宁德时代│  500  │ 250.00│ 245.60│ -2,200 │[调仓][清仓]│ │  │
│  │  │000001│平安银行│ 2000  │  15.50│  15.82│ +  640 │[调仓][清仓]│ │  │
│  │  └──────┴────────┴───────┴───────┴───────┴────────┴──────────┘ │  │
│  │                                                                  │  │
│  │  [+ 添加持仓]  [导入持仓]  [导出报表]                            │  │
│  └────────────────────────────────────────────────────────────────┘  │
│                                                                      │
│  ┌─ 风险监控 (AI-THink) ──────────────────────────────────────────┐  │
│  │  ⚠️ 风险等级: 中等                                              │  │
│  │  • 行业集中度: 偏高 (白酒占比 45%)                              │  │
│  │  • 最大回撤预警: 当前 -5.2%, 阈值 -10%                          │  │
│  │  • VaR(95%): ¥62,500 (单日最大潜在损失)                         │  │
│  │                                                                  │  │
│  │  [查看详细风险报告]                                              │  │
│  └────────────────────────────────────────────────────────────────┘  │
│                                                                      │
└──────────────────────────────────────────────────────────────────────┘
```

---

#### 页面6: 策略回测 (Strategy) - `/strategy`

**目标**: 策略编辑、回测与绩效分析

```
┌──────────────────────────────────────────────────────────────────────┐
│                          策略回测                                     │
├──────────────────────────────────────────────────────────────────────┤
│                                                                      │
│  ┌─ 策略选择 ─────────────────────────────────────────────────────┐  │
│  │  [我的策略▼]  [+ 新建策略]                                      │  │
│  │                                                                  │  │
│  │  ┌───────────────────┐ ┌───────────────────┐ ┌────────────────┐ │  │
│  │  │ 📈 趋势跟踪策略    │ │ 💰 低估值策略     │ │ ⚡ 动量突破    │ │  │
│  │  │ 年化: +32%        │ │ 年化: +18%        │ │ 年化: +45%    │ │  │
│  │  │ 回撤: -15%        │ │ 回撤: -8%         │ │ 回撤: -25%    │ │  │
│  │  │ [选中]            │ │                   │ │               │ │  │
│  │  └───────────────────┘ └───────────────────┘ └────────────────┘ │  │
│  └────────────────────────────────────────────────────────────────┘  │
│                                                                      │
│  ┌─ 回测配置 ─────────────────────────────────────────────────────┐  │
│  │  回测区间: [2023-01-01] 至 [2025-12-31]                         │  │
│  │  初始资金: [1,000,000] 元   手续费: [0.03%]   滑点: [0.1%]      │  │
│  │                                                                  │  │
│  │  ┌────────────────────────────────────────────────────────────┐ │  │
│  │  │                    [🚀 开始回测]                           │ │  │
│  │  └────────────────────────────────────────────────────────────┘ │  │
│  └────────────────────────────────────────────────────────────────┘  │
│                                                                      │
│  ┌─ 回测结果 ─────────────────────────────────────────────────────┐  │
│  │                                                                  │  │
│  │  ┌─ 绩效指标 ──────────────────────────────────────────────┐   │  │
│  │  │  年化收益: +32.5%  夏普比率: 1.85  最大回撤: -15.2%      │   │  │
│  │  │  胜率: 62%  盈亏比: 2.3  交易次数: 156                   │   │  │
│  │  └─────────────────────────────────────────────────────────┘   │  │
│  │                                                                  │  │
│  │  ┌─ 净值曲线 ──────────────────────────────────────────────┐   │  │
│  │  │                                                          │   │  │
│  │  │  [折线图: 策略净值 vs 沪深300基准]                       │   │  │
│  │  │                                                          │   │  │
│  │  └─────────────────────────────────────────────────────────┘   │  │
│  │                                                                  │  │
│  └────────────────────────────────────────────────────────────────┘  │
│                                                                      │
└──────────────────────────────────────────────────────────────────────┘
```

---

## 四、组件层级结构

### 4.1 组件树

```
app/
├── layout.tsx                    # 根布局
│   ├── Navbar.tsx               # 顶部导航
│   ├── Sidebar.tsx              # 侧边栏(可选)
│   ├── StatusBar.tsx            # 底部状态栏
│   └── children                 # 页面内容
│
├── page.tsx                     # 系统看板
│   ├── SystemStatus.tsx         # 系统状态组件
│   ├── IndexCards.tsx           # 大盘指数卡片
│   ├── AIPicks.tsx              # AI精选组件
│   ├── PortfolioSummary.tsx     # 持仓概览
│   └── MarketHeatmap.tsx        # 市场热力图
│
├── market/
│   ├── page.tsx                 # 行情中心
│   │   ├── SearchBar.tsx        # 搜索栏
│   │   ├── FilterTabs.tsx       # 筛选标签
│   │   ├── StockTable.tsx       # 股票列表
│   │   └── SectorHeatmap.tsx    # 板块热力图
│   │
│   └── stock/[code]/page.tsx    # 个股详情
│       ├── StockHeader.tsx      # 股票信息头
│       ├── ChartTabs.tsx        # 图表标签页
│       ├── KLineChart.tsx       # K线图
│       ├── ChipDistribution.tsx # 筹码分布
│       ├── AIAnalysis.tsx       # AI分析面板
│       └── QuickTrade.tsx       # 快速交易
│
├── analysis/
│   └── page.tsx                 # AI智能分析
│       ├── StrategySelector.tsx # 策略选择器
│       ├── ParameterConfig.tsx  # 参数配置
│       ├── AnalysisProgress.tsx # 分析进度
│       └── ResultCards.tsx      # 结果卡片
│
├── portfolio/
│   └── page.tsx                 # 投资组合
│       ├── AssetOverview.tsx    # 资产概览
│       ├── PositionTable.tsx    # 持仓列表
│       ├── ProfitChart.tsx      # 收益曲线
│       └── RiskMonitor.tsx      # 风险监控
│
└── strategy/
    └── page.tsx                 # 策略回测
        ├── StrategyList.tsx     # 策略列表
        ├── BacktestConfig.tsx   # 回测配置
        └── ResultPanel.tsx      # 回测结果
```

### 4.2 共享组件库

```
components/
├── ui/                          # 基础UI组件
│   ├── Button.tsx
│   ├── Card.tsx
│   ├── Input.tsx
│   ├── Select.tsx
│   ├── Table.tsx
│   ├── Tabs.tsx
│   ├── Modal.tsx
│   ├── Toast.tsx
│   └── Loading.tsx
│
├── charts/                      # 图表组件
│   ├── KLineChart.tsx          # K线图
│   ├── LineChart.tsx           # 折线图
│   ├── PieChart.tsx            # 饼图
│   ├── RadarChart.tsx          # 雷达图
│   └── Heatmap.tsx             # 热力图
│
├── market/                      # 行情相关
│   ├── StockCard.tsx           # 股票卡片
│   ├── IndexCard.tsx           # 指数卡片
│   ├── PriceDisplay.tsx        # 价格显示
│   └── ChangePercent.tsx       # 涨跌幅显示
│
├── analysis/                    # 分析相关
│   ├── AIScoreCard.tsx         # AI评分卡
│   ├── AnalystOpinion.tsx      # 分析师观点
│   └── RecommendBadge.tsx      # 推荐标签
│
└── portfolio/                   # 组合相关
    ├── PositionRow.tsx         # 持仓行
    ├── AssetCard.tsx           # 资产卡片
    └── RiskIndicator.tsx       # 风险指标
```

---

## 五、API 接口设计

### 5.1 API 路由结构

```
/api/
├── v1/
│   ├── health                   # 健康检查
│   ├── market/
│   │   ├── quote                # 实时行情
│   │   ├── kline                # K线数据
│   │   ├── search               # 股票搜索
│   │   └── indices              # 大盘指数
│   ├── analysis/
│   │   ├── screen               # AI选股
│   │   ├── score/[code]         # 单股评分
│   │   └── report/[code]        # 分析报告
│   ├── portfolio/
│   │   ├── positions            # 持仓列表
│   │   └── performance          # 绩效数据
│   ├── strategy/
│   │   ├── list                 # 策略列表
│   │   └── backtest             # 策略回测
│   └── risk/
│       ├── assessment           # 风险评估
│       └── alerts               # 风险预警
```

### 5.2 API 调用流程

```
前端组件 → Next.js API Route → 后端服务选择:
                                  ├─ AI-RadarX BE (8080): 基础数据、行情
                                  └─ AI-THink (8000): AI分析、策略回测
```

---

## 六、技术栈整合

| 层级 | 技术选型 | 说明 |
|------|----------|------|
| **前端框架** | Next.js 14 | App Router, RSC |
| **UI库** | Tailwind CSS + shadcn/ui | 组件化设计 |
| **状态管理** | Zustand | 轻量级全局状态 |
| **图表库** | ECharts | K线图、雷达图 |
| **数据获取** | SWR / React Query | 缓存与轮询 |
| **后端框架** | FastAPI (Python) | 高性能异步 |
| **AI引擎** | AI-THink Core | 多智能体分析 |
| **数据源** | AkShare + Tushare | A股数据 |
| **数据库** | MongoDB + Redis | 持久化+缓存 |

---

## 七、开发计划

| 阶段 | 任务 | 预计时间 |
|------|------|----------|
| P1-W1 | 导航布局 + 系统看板 | 2天 |
| P1-W1 | 行情中心 (列表 + 搜索) | 2天 |
| P1-W2 | 个股详情页 (基础) | 2天 |
| P1-W2 | 投资组合 (localStorage) | 2天 |
| P2-W1 | AI分析页 + AI-THink集成 | 3天 |
| P2-W2 | K线图表集成 | 2天 |
| P2-W2 | 策略回测页 | 3天 |
| P3 | 完善与优化 | 持续 |

---

> 📌 **确认后，我将按此设计开始实施开发。**
