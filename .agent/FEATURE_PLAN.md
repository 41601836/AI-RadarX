# AI-RadarX 功能规划文档

> 版本: v1.0 | 更新时间: 2026-01-29
> 项目定位: 基于AI-THink核心的智能A股分析交易系统

---

## 一、系统架构概览

```
┌─────────────────────────────────────────────────────────────┐
│                    AI-RadarX 前端 (Next.js)                  │
│  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐         │
│  │ 系统看板 │  │ 行情中心 │  │ 智能分析 │  │ 投资组合 │         │
│  └────┬────┘  └────┬────┘  └────┬────┘  └────┬────┘         │
└───────┼────────────┼────────────┼────────────┼──────────────┘
        │            │            │            │
        └────────────┴─────┬──────┴────────────┘
                           │
┌──────────────────────────┼──────────────────────────────────┐
│              AI-RadarX 后端 (FastAPI + Python)               │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │ 数据服务层  │  │  分析引擎层  │  │  策略执行层  │          │
│  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘          │
└─────────┼────────────────┼────────────────┼─────────────────┘
          │                │                │
┌─────────┼────────────────┼────────────────┼─────────────────┐
│         │     AI-THink Core (量化分析核心)   │               │
│  ┌──────┴──────┐  ┌──────┴──────┐  ┌──────┴──────┐          │
│  │ AkShare数据 │  │ 多因子模型  │  │ 策略回测   │          │
│  └─────────────┘  └─────────────┘  └─────────────┘          │
└─────────────────────────────────────────────────────────────┘
```

---

## 二、页面层级结构

### 一级导航 (主菜单)

| 路由 | 名称 | 图标 | 功能概述 |
|------|------|------|----------|
| `/` | 系统看板 | 📊 | 系统状态、快速入口、今日概览 |
| `/market` | 行情中心 | 📈 | 实时行情、板块热力图、龙虎榜 |
| `/analysis` | 智能分析 | 🧠 | AI选股、技术分析、基本面分析 |
| `/portfolio` | 投资组合 | 💼 | 持仓管理、收益统计、风险控制 |
| `/settings` | 系统设置 | ⚙️ | 账户、通知、数据源配置 |

---

## 三、各模块功能详情

### 3.1 系统看板 (`/`)

**目标**: 一屏展示系统核心状态与今日市场概况

| 组件 | 功能 | 数据来源 | 优先级 |
|------|------|----------|--------|
| 系统状态卡片 | 前端/后端/数据库连接状态 | `/api/v1/health` | P0 |
| 大盘指数 | 上证/深证/创业板实时指数 | AkShare | P0 |
| 今日AI精选 | 3-5只AI推荐股票 | 分析引擎 | P1 |
| 持仓概览 | 总资产、今日盈亏 | 本地存储 | P1 |
| 快捷操作 | 进入各模块的快速入口 | - | P0 |

**布局草图**:
```
┌──────────────────────────────────────────────────────────┐
│  [系统状态栏: 前端✓ 后端✓ 数据✓]                         │
├──────────────────────────────────────────────────────────┤
│  ┌────────────┐  ┌────────────┐  ┌────────────┐          │
│  │ 上证指数   │  │ 深证成指   │  │ 创业板指   │          │
│  │ 3285.16   │  │ 12456.78  │  │ 2345.67   │          │
│  │ +0.38%    │  │ -0.19%    │  │ +1.02%    │          │
│  └────────────┘  └────────────┘  └────────────┘          │
├──────────────────────────────────────────────────────────┤
│  今日AI精选                                               │
│  ┌──────────────────────────────────────────────────┐    │
│  │ 600519 贵州茅台  ↑2.3%  | AI评分: 85 | 推荐买入  │    │
│  │ 300750 宁德时代  ↑1.8%  | AI评分: 78 | 建议持有  │    │
│  └──────────────────────────────────────────────────┘    │
├──────────────────────────────────────────────────────────┤
│  [行情中心]  [智能分析]  [投资组合]  [系统设置]           │
└──────────────────────────────────────────────────────────┘
```

---

### 3.2 行情中心 (`/market`)

**目标**: 提供全面的市场行情数据和可视化

#### 3.2.1 子页面结构

| 子路由 | 名称 | 功能 |
|--------|------|------|
| `/market` | 实时行情 | 热门股票列表、涨跌排行 |
| `/market/sectors` | 板块热力图 | 行业/概念板块涨跌分布 |
| `/market/lhb` | 龙虎榜 | 机构资金动向 |
| `/market/stock/[code]` | 个股详情 | K线图、分时图、基本信息 |

#### 3.2.2 实时行情页功能

| 组件 | 功能 | 优先级 |
|------|------|--------|
| 搜索栏 | 股票代码/名称搜索 | P0 |
| 分类筛选 | 主板/创业板/科创板筛选 | P1 |
| 股票列表 | 代码、名称、现价、涨跌幅、成交量 | P0 |
| 排序功能 | 按涨幅/跌幅/成交额排序 | P1 |
| 自选股 | 添加到自选列表 | P1 |

**API 依赖**:
- `GET /api/v1/market/quote` - 获取热门股票行情
- `GET /api/v1/market/search?q=xxx` - 搜索股票

---

### 3.3 智能分析 (`/analysis`)

**目标**: AI驱动的股票分析与选股

#### 3.3.1 子页面结构

| 子路由 | 名称 | 功能 |
|--------|------|------|
| `/analysis` | AI选股 | 多策略智能选股 |
| `/analysis/technical` | 技术分析 | K线形态、指标分析 |
| `/analysis/fundamental` | 基本面分析 | 财务数据、估值分析 |
| `/analysis/report/[code]` | 分析报告 | 单只股票完整分析报告 |

#### 3.3.2 AI选股功能

| 组件 | 功能 | 优先级 |
|------|------|--------|
| 策略选择器 | 选择预设策略（趋势/价值/动量） | P0 |
| 参数配置 | 调整策略参数 | P2 |
| 选股结果 | 显示符合条件的股票列表 | P0 |
| AI评分 | 每只股票的综合评分 | P0 |
| 买卖信号 | 推荐操作方向 | P1 |

**API 依赖**:
- `POST /api/v1/analysis/screen` - 执行选股策略
- `GET /api/v1/analysis/score/[code]` - 获取单股AI评分

---

### 3.4 投资组合 (`/portfolio`)

**目标**: 管理用户持仓与跟踪投资绩效

#### 3.4.1 子页面结构

| 子路由 | 名称 | 功能 |
|--------|------|------|
| `/portfolio` | 持仓概览 | 当前持仓列表、总资产 |
| `/portfolio/history` | 交易历史 | 买卖记录 |
| `/portfolio/performance` | 绩效分析 | 收益曲线、归因分析 |

#### 3.4.2 持仓概览功能

| 组件 | 功能 | 优先级 |
|------|------|--------|
| 总资产卡片 | 总市值、今日盈亏、总收益率 | P0 |
| 持仓列表 | 股票、数量、成本、现价、盈亏 | P0 |
| 添加持仓 | 手动录入买入记录 | P1 |
| 卖出操作 | 记录卖出 | P1 |
| 导出报表 | 生成持仓报表 | P2 |

**数据存储**: 
- Phase 1: localStorage (本地浏览器存储)
- Phase 2: MongoDB (持久化)

---

## 四、数据流设计

### 4.1 实时行情数据流

```
[AkShare API] → [FastAPI 后端] → [前端 State] → [UI 渲染]
     ↓                ↓               ↓
   5秒缓存         JSON响应        Zustand Store
```

### 4.2 用户数据流

```
[用户操作] → [前端 State] → [localStorage] 
                ↓
           [同步到后端] (Phase 2)
```

---

## 五、开发阶段规划

### Phase 1: 核心功能 (当前)

**目标**: 实现最小可用产品 (MVP)

| 任务 | 状态 | 预计完成 |
|------|------|----------|
| 系统看板基础版 | ✅ 完成 | - |
| 后端健康检查 API | ✅ 完成 | - |
| 行情中心 - 股票列表 | 🔄 进行中 | Day 1 |
| 行情中心 - 个股详情 | ⏳ 待开始 | Day 2 |
| 智能分析 - AI选股 | ⏳ 待开始 | Day 3 |
| 投资组合 - 持仓管理 | ⏳ 待开始 | Day 4 |

### Phase 2: 功能增强

| 任务 | 预计完成 |
|------|----------|
| K线图表集成 (ECharts/TradingView) | Week 2 |
| 板块热力图 | Week 2 |
| 多策略回测 | Week 3 |
| 用户认证系统 | Week 3 |
| MongoDB 持久化 | Week 4 |

### Phase 3: 高级功能

| 任务 | 预计完成 |
|------|----------|
| 实时推送 (WebSocket) | Month 2 |
| 自动交易接口 | Month 2 |
| 移动端适配 | Month 3 |

---

## 六、技术栈确认

| 层级 | 技术选型 | 说明 |
|------|----------|------|
| 前端框架 | Next.js 14 | App Router, RSC |
| 样式 | Tailwind CSS 3.4 | 原子化CSS |
| 状态管理 | Zustand / React State | 轻量级 |
| 图表库 | ECharts / Recharts | 待定 |
| 后端框架 | FastAPI | Python 异步框架 |
| 数据获取 | AkShare | 免费A股数据 |
| 数据存储 | localStorage → MongoDB | 渐进式 |

---

## 七、文件结构规划

```
g:\AI-RadarX\
├── app/                          # Next.js App Router
│   ├── layout.tsx                # 根布局 (导航栏)
│   ├── page.tsx                  # 首页/系统看板
│   ├── market/                   # 行情中心
│   │   ├── page.tsx              # 实时行情列表
│   │   ├── sectors/page.tsx      # 板块热力图
│   │   └── stock/[code]/page.tsx # 个股详情
│   ├── analysis/                 # 智能分析
│   │   ├── page.tsx              # AI选股
│   │   └── report/[code]/page.tsx# 分析报告
│   └── portfolio/                # 投资组合
│       └── page.tsx              # 持仓概览
├── components/                   # 共享组件
│   ├── layout/                   # 布局组件
│   │   ├── Navbar.tsx            # 顶部导航
│   │   └── Sidebar.tsx           # 侧边栏
│   ├── market/                   # 行情组件
│   │   ├── StockTable.tsx        # 股票列表
│   │   └── StockCard.tsx         # 股票卡片
│   ├── analysis/                 # 分析组件
│   │   └── AIScoreCard.tsx       # AI评分卡片
│   └── common/                   # 通用组件
│       ├── Card.tsx              # 卡片容器
│       └── Loading.tsx           # 加载状态
├── lib/                          # 工具库
│   ├── api/                      # API 调用
│   │   └── client.ts             # 请求封装
│   └── store/                    # 状态管理
│       └── useMarketStore.ts     # 行情状态
└── backend/                      # Python 后端
    └── app/
        ├── main.py               # FastAPI 入口
        └── routers/              # 路由模块
            ├── market.py         # 行情接口
            └── analysis.py       # 分析接口
```

---

## 八、下一步行动

确认此计划后，我将按以下顺序开发：

1. **创建导航栏布局** - 实现页面间导航
2. **实现行情中心** - 接入后端数据，显示股票列表
3. **实现个股详情页** - 点击股票查看详情
4. **实现AI选股** - 策略选择与结果展示
5. **实现持仓管理** - localStorage存储

---

> 📌 **请确认或调整此计划，确认后我将开始实施。**
